{"ast":null,"code":"import{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function Login(_ref){let{setCurrentUser}=_ref;const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[alert,setAlert]=useState(\"\");const[alert2,setAlert2]=useState(\"\");function handleUsernameChange(e){setUsername(e.target.value);}function handlePasswordChange(e){setPassword(e.target.value);}async function handleRegister(e){e.preventDefault();if(username.length<3){setAlert(\"Username must be at least 3 characters\");setAlert2(\"\");}else if(password.length<3){setAlert(\"Password must be at least 3 characters\");setAlert2(\"\");}else{const attempt=await axios.post(\"/register\",{username:username,password:password});if(attempt.data===\"Taken\"){setAlert(\"Username already taken\");setAlert2(\"\");}else{setAlert(\"\");setAlert2(\"Account created, you may now log in\");}}}async function handleLogin(e){e.preventDefault();const attempt=await axios.post(\"/authenticate\",{username:username,password:password});if(attempt.data===\"None\"){setAlert(\"Username does not exist\");setAlert2(\"\");}else if(attempt.data===\"Wrong\"){setAlert(\"Wrong password\");setAlert2(\"\");}else{setAlert(\"\");setAlert2(\"Logging in...\");setCurrentUser(username);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"loginBg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loginContainer\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"loginTitle\",children:\"Chat App Login\"}),/*#__PURE__*/_jsx(\"input\",{value:username,onChange:handleUsernameChange,type:\"text\",placeholder:\"Username\",className:\"loginInput\"}),/*#__PURE__*/_jsx(\"input\",{value:password,onChange:handlePasswordChange,type:\"text\",placeholder:\"Password\",className:\"loginInput\"}),/*#__PURE__*/_jsxs(\"div\",{style:{\"marginTop\":\"15px\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{\"color\":\"rgb(186, 195, 233)\",\"marginRight\":\"200px\"},children:\"Remember Me\"}),/*#__PURE__*/_jsx(\"span\",{style:{\"color\":\"rgb(113, 102, 237)\"},children:\"Forgot Password\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,className:\"loginButton\",children:\"Sign In\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRegister,className:\"registerButton\",children:\"Register\"})]}),alert!==\"\"?/*#__PURE__*/_jsx(\"div\",{className:\"alert\",children:alert}):null,alert2!==\"\"?/*#__PURE__*/_jsx(\"div\",{className:\"alert2\",children:alert2}):null]});}","map":{"version":3,"names":["useState","axios","jsx","_jsx","jsxs","_jsxs","Login","_ref","setCurrentUser","username","setUsername","password","setPassword","alert","setAlert","alert2","setAlert2","handleUsernameChange","e","target","value","handlePasswordChange","handleRegister","preventDefault","length","attempt","post","data","handleLogin","className","children","onChange","type","placeholder","style","onClick"],"sources":["/Users/eddyzheng/Documents/Javascript Projects/node test/chatapp/client/src/Login.js"],"sourcesContent":["import {useState} from \"react\";\nimport axios from \"axios\";\n\nexport function Login({setCurrentUser}) {\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [alert, setAlert] = useState(\"\");\n    const [alert2, setAlert2] = useState(\"\");\n\n    function handleUsernameChange(e) {\n        setUsername(e.target.value);\n    }\n    function handlePasswordChange(e) {\n        setPassword(e.target.value);\n    }\n    async function handleRegister(e) {\n        e.preventDefault();\n\n        if (username.length < 3){\n            setAlert(\"Username must be at least 3 characters\");\n            setAlert2(\"\");\n        }\n        else if (password.length < 3) {\n            setAlert(\"Password must be at least 3 characters\");\n            setAlert2(\"\");\n        }\n        else {\n            const attempt = await axios.post(\"/register\", {username: username, password: password});\n            if (attempt.data === \"Taken\") {\n                setAlert(\"Username already taken\");\n                setAlert2(\"\");\n            }\n            else {\n                setAlert(\"\");\n                setAlert2(\"Account created, you may now log in\");\n            }\n        }\n        \n    }\n    async function handleLogin(e) {\n        e.preventDefault();\n\n        const attempt = await axios.post(\"/authenticate\", {username: username, password: password});\n        if (attempt.data === \"None\") {\n            setAlert(\"Username does not exist\");\n            setAlert2(\"\");\n        }\n        else if (attempt.data === \"Wrong\") {\n            setAlert(\"Wrong password\");\n            setAlert2(\"\");\n        }\n        else {\n            setAlert(\"\");\n            setAlert2(\"Logging in...\");\n            setCurrentUser(username);\n        }\n    }\n\n    return (\n        <div className=\"loginBg\">\n            <div className=\"loginContainer\">\n                <p className=\"loginTitle\">Chat App Login</p>\n                <input\n                    value={username}\n                    onChange={handleUsernameChange}\n                    type=\"text\"\n                    placeholder=\"Username\"\n                    className=\"loginInput\"\n                />\n                <input\n                    value={password}\n                    onChange={handlePasswordChange}\n                    type=\"text\"\n                    placeholder=\"Password\"\n                    className=\"loginInput\"\n                />\n                <div style={{\"marginTop\": \"15px\"}}>\n                    <span style={{\"color\": \"rgb(186, 195, 233)\", \"marginRight\": \"200px\"}}>Remember Me</span>\n                    <span style={{\"color\": \"rgb(113, 102, 237)\"}}>Forgot Password</span>\n                </div>\n                <button onClick={handleLogin} className=\"loginButton\">Sign In</button>\n                <button onClick={handleRegister} className=\"registerButton\">Register</button>\n            </div>\n            { alert !== \"\" ? \n            <div className=\"alert\">{alert}</div> :\n            null\n            }\n            { alert2 !== \"\" ? \n            <div className=\"alert2\">{alert2}</div> :\n            null\n            }\n        </div>\n    )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}